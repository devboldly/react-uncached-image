(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{UyxN:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return m}));a("1c7q"),a("abGl"),a("gZHo"),a("Fdmb"),a("Ir+3"),a("2mQt");var n=a("/FXl"),r=a("TjRS"),c=a("ZFoC"),l=a("Tt4H");a("aD51");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o={};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/components/UncachedImage.mdx"}});var s={_frontmatter:o},b=r.a;function m(e){var t,a,m=e.components,p=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["components"]);return Object(n.b)(b,i({},s,p,{components:m,mdxType:"MDXLayout"}),Object(n.b)("h1",null,"UncachedImage"),Object(n.b)("h2",{id:"description"},"Description"),Object(n.b)("p",null,"An UncachedImage adds a cache-busting query param to your image ",Object(n.b)("inlineCode",{parentName:"p"},"src")," to ensure the browser requests the image from the server on every render."),Object(n.b)("h2",{id:"usage"},"Usage"),Object(n.b)("pre",null,Object(n.b)("code",i({parentName:"pre"},{className:"language-jsx"}),"import { UncachedImage } from 'react-uncached-image';\n")),Object(n.b)("p",null,"Use just like you would a normal ",Object(n.b)("inlineCode",{parentName:"p"},"img")," tag in React:"),Object(n.b)(c.c,{__position:1,__code:'<UncachedImage src="https://loremflickr.com/320/240" />',__scope:(t={props:p,DefaultLayout:r.a,Playground:c.c,Props:c.d,UncachedImage:l.a},t.DefaultLayout=r.a,t._frontmatter=o,t),mdxType:"Playground"},Object(n.b)(l.a,{src:"https://loremflickr.com/320/240",mdxType:"UncachedImage"})),Object(n.b)("small",null,"Note: You can edit the source above. Your changes will be rendered immediately."),Object(n.b)("br",null),Object(n.b)("br",null),Object(n.b)("p",null,"Pass the ",Object(n.b)("inlineCode",{parentName:"p"},"src")," for the image, as well as any other ",Object(n.b)("inlineCode",{parentName:"p"},"img")," props you'd like. The image will automatically include a query param that's used to bust the cache."),Object(n.b)("p",null,"The service used to get this image, ",Object(n.b)("a",i({parentName:"p"},{href:"https://loremflickr.com/"}),"loremflickr.com"),", returns a different image on every request. Because cache busting is being used, the image is not cached and is likely different on every render."),Object(n.b)("h2",{id:"props"},"Props"),Object(n.b)("table",null,Object(n.b)("thead",{parentName:"table"},Object(n.b)("tr",{parentName:"thead"},Object(n.b)("th",i({parentName:"tr"},{align:null}),"Prop"),Object(n.b)("th",i({parentName:"tr"},{align:null}),"Type"),Object(n.b)("th",i({parentName:"tr"},{align:null}),"Description"))),Object(n.b)("tbody",{parentName:"table"},Object(n.b)("tr",{parentName:"tbody"},Object(n.b)("td",i({parentName:"tr"},{align:null}),"cacheBuster"),Object(n.b)("td",i({parentName:"tr"},{align:null}),Object(n.b)("inlineCode",{parentName:"td"},"string")," ","|"," ",Object(n.b)("inlineCode",{parentName:"td"},"undefined")),Object(n.b)("td",i({parentName:"tr"},{align:null}),"Optional. You can provide your own cache buster, which will be URI encoded and added as a query parameter. If you make this constant, cache-busting will effectively be disabled. When not specified, one is generated automatically.")))),Object(n.b)("p",null,"This component supports ",Object(n.b)("strong",{parentName:"p"},"all ",Object(n.b)("inlineCode",{parentName:"strong"},"img")," props"),", such as ",Object(n.b)("inlineCode",{parentName:"p"},"alt"),", ",Object(n.b)("inlineCode",{parentName:"p"},"className"),", ",Object(n.b)("inlineCode",{parentName:"p"},"style"),", and ",Object(n.b)("inlineCode",{parentName:"p"},"onClick"),". It renders as an ",Object(n.b)("inlineCode",{parentName:"p"},"img")," element."),Object(n.b)("h2",{id:"example"},"Example"),Object(n.b)("p",null,"The following example shows three regular ",Object(n.b)("inlineCode",{parentName:"p"},"img")," elements, and three ",Object(n.b)("inlineCode",{parentName:"p"},"UncachedImage")," components."),Object(n.b)("p",null,"The image source for all six images is the same: ",Object(n.b)("inlineCode",{parentName:"p"},"https://loremflickr.com/320/240"),". This service returns a different image on every request."),Object(n.b)("p",null,"The first three are likely the same, while the three uncached images will likely all be different."),Object(n.b)(c.c,{__position:4,__code:'<p>\n  These three images share the same source. They\'ve been cached by your\n  browser and likely repeat three times.\n</p>\n<img src="https://loremflickr.com/320/240" />\n<img src="https://loremflickr.com/320/240" />\n<img src="https://loremflickr.com/320/240" />\n<p>\n  These use <code>{`<UncachedImage/>`}</code>, which uses client-side cache\n  busting. They\'ve all incurred a trip to the server and are likely all\n  different.\n</p>\n<UncachedImage src="https://loremflickr.com/320/240" />\n<UncachedImage src="https://loremflickr.com/320/240" />\n<UncachedImage src="https://loremflickr.com/320/240" />',__scope:(a={props:p,DefaultLayout:r.a,Playground:c.c,Props:c.d,UncachedImage:l.a},a.DefaultLayout=r.a,a._frontmatter=o,a),mdxType:"Playground"},Object(n.b)("p",null,"These three images share the same source. They've been cached by your browser and likely repeat three times."),Object(n.b)("img",{src:"https://loremflickr.com/320/240"}),Object(n.b)("img",{src:"https://loremflickr.com/320/240"}),Object(n.b)("img",{src:"https://loremflickr.com/320/240"}),Object(n.b)("p",null,"These use ",Object(n.b)("code",null,"<UncachedImage/>"),", which uses client-side cache busting. They've all incurred a trip to the server and are likely all different."),Object(n.b)(l.a,{src:"https://loremflickr.com/320/240",mdxType:"UncachedImage"}),Object(n.b)(l.a,{src:"https://loremflickr.com/320/240",mdxType:"UncachedImage"}),Object(n.b)(l.a,{src:"https://loremflickr.com/320/240",mdxType:"UncachedImage"})),Object(n.b)("small",null,"Note: You can edit the source above. Your changes will be rendered immediately."))}m&&m===Object(m)&&Object.isExtensible(m)&&!m.hasOwnProperty("__filemeta")&&Object.defineProperty(m,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/components/UncachedImage.mdx"}}),m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-components-uncached-image-mdx-84281d0c1d1e8781fcd8.js.map